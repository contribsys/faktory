Commands validity
-----------------

+---------+---------------------+------------------------------------------------------------------------+
|         | Role                | State                                                                  |
+=========+==========+==========+==============+================+============+=======+=============+=====+
| Command | Producer | Consumer | DISCONNECTED | NOT_IDENTIFIED | IDENTIFIED | QUIET | TERMINATING | END |
+---------+----------+----------+--------------+----------------+------------+-------+-------------+-----+
| HELLO   |    ✓     |    ✓     |              |       ✓        |            |       |             |     |
+---------+----------+----------+--------------+----------------+------------+-------+-------------+-----+
| FLUSH   |    ✓     |    ✓     |              |                |     ✓      |       |             |     |
+---------+----------+----------+--------------+----------------+------------+-------+-------------+-----+
| INFO    |    ✓     |    ✓     |              |                |     ✓      |       |             |     |
+---------+----------+----------+--------------+----------------+------------+-------+-------------+-----+
| END     |    ✓     |    ✓     |              |                |     ✓      |   ✓   |      ✓      |     |
+---------+----------+----------+--------------+----------------+------------+-------+-------------+-----+
| PUSH    |    ✓     |          |              |                |     ✓      |       |             |     |
+---------+----------+----------+--------------+----------------+------------+-------+-------------+-----+
| FETCH   |          |    ✓     |              |                |     ✓      |       |             |     |
+---------+----------+----------+--------------+----------------+------------+-------+-------------+-----+
| ACK     |          |    ✓     |              |                |     ✓      |   ✓   |      ✓      |     |
+---------+----------+----------+--------------+----------------+------------+-------+-------------+-----+
| FAIL    |          |    ✓     |              |                |     ✓      |   ✓   |      ✓      |     |
+---------+----------+----------+--------------+----------------+------------+-------+-------------+-----+
| BEAT    |          |    ✓     |              |                |     ✓      |   ✓   |             |     |
+---------+----------+----------+--------------+----------------+------------+-------+-------------+-----+
